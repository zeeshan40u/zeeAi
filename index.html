<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>ZeeAi 1.3</title>
  <link rel="icon" type="image/jpeg" href="https://image.jimcdn.com/app/cms/image/transf/none/path/s87e10734edef81fd/image/ic057f555847bdd10/version/1757224479/image.jpg">
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#00ff55">
  <style>
    /* --- THEME VARIABLES --- */
    :root{
      --bg-dark:#0d0d0d;--text-dark:#e0e0e0;--heading-dark:#00ff55;--accent-dark:#00ccee;--container-dark:rgba(18,18,18,0.9);--container-border-dark:rgba(0,255,85,0.3);--container-shadow-dark:0 0 25px rgba(0,255,85,0.12);
      --bg-light:#ffffff;--text-light:#111111;--heading-light:#0066ff;--accent-light:#0066ff;--container-light:#ffffff;--container-border-light:rgba(0,102,255,0.12);--container-shadow-light:0 6px 18px rgba(0,0,0,0.06);
      --bg-teal:#f5f7f9;--text-teal:#111111;--heading-teal:#00897b;--accent-teal:#ff7043;--container-teal:#ffffff;--container-border-teal:rgba(0,137,123,0.22);--container-shadow-teal:0 6px 18px rgba(0,137,123,0.10);
      --bg-gold:#000000;--text-gold:#eaeaea;--heading-gold:#ffd700;--accent-gold:#ffcc33;--container-gold:#111111;--container-border-gold:rgba(255,215,0,0.22);--container-shadow-gold:0 6px 18px rgba(255,215,0,0.10);
      --bg: var(--bg-dark);--text: var(--text-dark);--heading: var(--heading-dark);--accent: var(--accent-dark);--container-bg: var(--container-dark);--container-border: var(--container-border-dark);--container-shadow: var(--container-shadow-dark);--grid-rgb: 30,255,12;
    }

    body.theme-dark{--bg:var(--bg-dark);--text:var(--text-dark);--heading:var(--heading-dark);--accent:var(--accent-dark);--container-bg:var(--container-dark);--container-border:var(--container-border-dark);--container-shadow:var(--container-shadow-dark);--grid-rgb:30,255,12;}
    body.theme-light{--bg:var(--bg-light);--text:var(--text-light);--heading:var(--heading-light);--accent:var(--accent-light);--container-bg:var(--container-light);--container-border:var(--container-border-light);--container-shadow:var(--container-shadow-light);--grid-rgb:0,102,255;}
    body.theme-teal{--bg:var(--bg-teal);--text:var(--text-teal);--heading:var(--heading-teal);--accent:var(--accent-teal);--container-bg:var(--container-teal);--container-border:var(--container-border-teal);--container-shadow:var(--container-shadow-teal);--grid-rgb:0,137,123;}
    body.theme-gold{--bg:var(--bg-gold);--text:var(--text-gold);--heading:var(--heading-gold);--accent:var(--accent-gold);--container-bg:var(--container-gold);--container-border:var(--container-border-gold);--container-shadow:var(--container-shadow-gold);--grid-rgb:255,215,0;}

    html,body{height:100%;margin:0;padding:0;box-sizing:border-box;font-family:"Consolas","Monaco","Lucida Console",monospace;background: var(--bg);color: var(--text);overflow-x:hidden;-webkit-font-smoothing:antialiased;transition: background 0.6s ease,color 0.6s ease;}
    body::before{content:'';position:fixed;inset:0;z-index:-1;background-image:linear-gradient(0deg,transparent 24%,rgba(var(--grid-rgb),0.05) 25%,rgba(var(--grid-rgb),0.05) 26%,transparent 27%,transparent 74%,rgba(var(--grid-rgb),0.05) 75%,rgba(var(--grid-rgb),0.05) 76%,transparent 77%,transparent),linear-gradient(90deg,transparent 24%,rgba(var(--grid-rgb),0.05) 25%,rgba(var(--grid-rgb),0.05) 26%,transparent 27%,transparent 74%,rgba(var(--grid-rgb),0.05) 75%,rgba(var(--grid-rgb),0.05) 76%,transparent 77%,transparent);background-size:50px 50px;opacity:0.18;transition: background-image 0.8s ease, opacity 0.6s ease;}
    .page{min-height:calc(100vh - 6vh);display:flex;align-items:flex-start;justify-content:center;padding:5vh 16px;}
    .content{width:100%;max-width:720px;display:flex;flex-direction:column;align-items:center;gap:20px;}
    .heading{width:100%;text-align:center;font-size:clamp(1.6rem,6vw,3rem);font-weight:700;letter-spacing:2px;color:var(--heading);margin:0;animation:subtlePulse 2s infinite alternate ease-in-out;transition:color 0.6s ease,text-shadow 0.6s ease;}
    @keyframes subtlePulse{from{transform:scale(1);}to{transform:scale(1.01);}}
    body.theme-dark .heading,body.theme-gold .heading{text-shadow:0 0 6px var(--heading),0 0 14px rgba(0,0,0,0.06);}
    .container{width:95%;padding:18px;background:var(--container-bg);border-radius:12px;border:1px solid var(--container-border);box-shadow:var(--container-shadow);display:flex;flex-direction:column;align-items:flex-start;gap:12px;transition: background 0.6s ease, box-shadow 0.6s ease, border-color 0.6s ease;}
    label[for="txt"]{font-size:0.95rem;color:var(--text);margin-bottom:6px;display:block;}
    #txt{width:100%;padding:12px;font-size:1.05rem;border-radius:8px;border:1px solid var(--container-border);background:transparent;color:var(--text);min-height:140px;resize:vertical;box-sizing:border-box;}
    #txt:focus{outline:none;box-shadow:0 6px 18px rgba(0,0,0,0.08);border-color:var(--accent);}
    .controls{display:flex;gap:12px;align-items:center;justify-content:center;width:100%;}
    .enter{padding:12px 20px;border-radius:10px;border:none;cursor:pointer;background:linear-gradient(45deg,var(--accent) 0%,var(--heading) 50%,var(--accent) 100%);background-size:300% 300%;animation:buttonGlow 6s ease infinite;color:var(--bg);font-weight:700;letter-spacing:1px;box-shadow:0 8px 20px rgba(0,0,0,0.18);transition:transform 200ms ease;}
    @keyframes buttonGlow{0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}
    .enter:active{transform:translateY(1px) scale(0.995);}
    /* --- Theme picker --- */
    #themeToggle{position:fixed;top:14px;right:14px;z-index:1200;width:46px;height:46px;border-radius:10px;border:1px solid rgba(255,255,255,0.04);background:rgba(255,255,255,0.02);display:inline-flex;align-items:center;justify-content:center;cursor:pointer;color:var(--heading);backdrop-filter:blur(4px);transition: background 0.4s ease, transform 0.15s ease;}
    #themeToggle:active{transform:scale(0.98);}
    #themeToggle svg{width:22px;height:22px;fill:currentColor;}
    .theme-menu{position:fixed;top:64px;right:12px;z-index:1250;padding:8px;border-radius:10px;background:var(--container-bg);border:1px solid var(--container-border);box-shadow:var(--container-shadow);display:none;flex-direction:column;gap:8px;min-width:180px;}
    .theme-option{display:flex;gap:10px;align-items:center;padding:8px;border-radius:8px;cursor:pointer;transition:transform 120ms ease, background 250ms ease;border:1px solid transparent;}
    .theme-option:hover{transform:translateY(-3px);background:rgba(255,255,255,0.02);}
    .swatch{width:34px;height:34px;border-radius:8px;flex-shrink:0;border:1px solid rgba(255,255,255,0.06);}
    .theme-label{color:var(--text);font-weight:600;font-size:0.95rem;}
    /* --- Install button --- */
    #installBtn{position:fixed;bottom:22px;right:20px;padding:14px 26px;border-radius:28px;border:none;cursor:pointer;z-index:1200;font-weight:800;color:var(--bg);background:linear-gradient(45deg,var(--accent) 0%,var(--heading) 50%,var(--accent) 100%);background-size:300% 300%;animation:bgMove 5s ease infinite, pulse 2s infinite;box-shadow:0 10px 30px rgba(0,0,0,0.18);display:none;}
    @keyframes bgMove{0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}
    @keyframes pulse{0%{transform:translateY(0)}50%{transform:translateY(-6px)}100%{transform:translateY(0)}}
    /* --- Speed control --- */
    #speedControl{position:fixed;bottom:92px;right:18px;z-index:1200;}
    #speedBtn{width:44px;height:44px;border-radius:50%;border:none;cursor:pointer;background:var(--accent);display:flex;align-items:center;justify-content:center;color:#000;box-shadow:0 6px 16px rgba(0,0,0,0.18);}
    #speedMenu{display:none;position:absolute;bottom:54px;right:0;background:var(--container-bg);border:1px solid var(--container-border);border-radius:8px;padding:6px;box-shadow:var(--container-shadow);display:flex;flex-direction:column;gap:6px;}
    #speedMenu button{background:var(--accent);border:none;padding:6px 12px;border-radius:6px;cursor:pointer;font-weight:700;color:#111;}
    /* --- Tooltip --- */
    .tooltip{position:fixed;top:64px;right:80px;z-index:1300;padding:8px 10px;border-radius:8px;background:var(--container-bg);border:1px solid var(--container-border);color:var(--text);display:none;}
  </style>
</head>
<body class="theme-dark">
  <div aria-hidden="true" style="position:fixed; inset:0; z-index:-2;"></div>

  <!-- Theme picker -->
  <button id="themeToggle" aria-label="Open theme picker" title="Theme (brush)">
    <svg viewBox="0 0 24 24" aria-hidden="true">
      <path d="M7.22 14.2l2.58 2.58a1 1 0 0 1 0 1.41l-2.83 2.83a1 1 0 0 1-1.41 0l-1.17-1.17a2 2 0 0 1 0-2.83l2.83-2.83a1 1 0 0 1 1.41 0zM20.71 7.04a3.5 3.5 0 0 0 0-4.95l-1.8-1.8a3.5 3.5 0 0 0-4.95 0L8.9 5.35l6.76 6.76 4.3-5.07z"/>
    </svg>
  </button>
  <div id="themeMenu" class="theme-menu" role="menu" aria-hidden="true">
    <div class="theme-option" role="menuitem" tabindex="0" data-theme="theme-dark"><div class="swatch" style="background:linear-gradient(45deg,#00ff55,#00ccee)"></div><div class="theme-label">Green &amp; Black</div></div>
    <div class="theme-option" role="menuitem" tabindex="0" data-theme="theme-light"><div class="swatch" style="background:linear-gradient(45deg,#0066ff,#00a6ff)"></div><div class="theme-label">Blue &amp; White</div></div>
    <div class="theme-option" role="menuitem" tabindex="0" data-theme="theme-teal"><div class="swatch" style="background:linear-gradient(45deg,#00897b,#ff7043)"></div><div class="theme-label">Teal &amp; Gray</div></div>
    <div class="theme-option" role="menuitem" tabindex="0" data-theme="theme-gold"><div class="swatch" style="background:linear-gradient(45deg,#ffd700,#ffcc33)"></div><div class="theme-label">Black &amp; Gold</div></div>
  </div>

  <!-- Page content -->
  <div class="page">
    <div class="content">
      <h1 class="heading">ZeeAi 1.3</h1>
      <div class="container" role="region" aria-label="Text input container">
        <label for="txt">Enter Text</label>
        <textarea id="txt" placeholder="Type text to speak..." aria-label="Enter text"></textarea>
        <div class="controls" style="width:100%; justify-content:space-between; gap:8px;">
          <div style="display:flex; gap:8px;">
            <button id="speakBtn" class="enter">Speak</button>
          </div>
          <div id="speedControl" style="display:flex; align-items:center; gap:8px;">
            <button id="speedBtn" aria-haspopup="true" aria-expanded="false" title="Playback speed">⏱️</button>
            <div id="speedMenu" style="display:none;" role="menu" aria-hidden="true">
              <button data-rate="0.5">0.5x</button>
              <button data-rate="1">1x</button>
              <button data-rate="1.5">1.5x</button>
              <button data-rate="2">2x</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <button id="installBtn" aria-label="Install ZeeAi PWA">🌈🚀 Install App 🚀🌈</button>
  <div id="tooltip" class="tooltip" role="status" aria-live="polite">Theme applied</div>

  <script>
    /* PWA Install */
    if('serviceWorker' in navigator) navigator.serviceWorker.register('service-worker.js').catch(()=>{});
    let deferredPrompt = null;
    const installBtn = document.getElementById('installBtn');
    window.addEventListener('beforeinstallprompt', e=>{e.preventDefault(); deferredPrompt=e; installBtn.style.display='block';});
    installBtn.addEventListener('click', async ()=>{if(!deferredPrompt){alert('Install prompt not available yet.'); return;} deferredPrompt.prompt(); deferredPrompt=null; installBtn.style.display='none';});

    /* Theme Picker */
    const themeToggle=document.getElementById('themeToggle');
    const themeMenu=document.getElementById('themeMenu');
    const themeOptions=themeMenu.querySelectorAll('.theme-option');
    const tooltip=document.getElementById('tooltip');
    let menuOpen=false;
    function openMenu(){themeMenu.style.display='flex'; themeMenu.setAttribute('aria-hidden','false'); menuOpen=true;}
    function closeMenu(){themeMenu.style.display='none'; themeMenu.setAttribute('aria-hidden','true'); menuOpen=false;}
    themeToggle.addEventListener('click',e=>{e.stopPropagation(); menuOpen?closeMenu():openMenu();});
    document.addEventListener('click',e=>{if(menuOpen&&!themeMenu.contains(e.target)&&!themeToggle.contains(e.target)) closeMenu();});
    document.addEventListener('keydown',e=>{if(e.key==='Escape') closeMenu();});
    function applyTheme(themeName){
      document.body.classList.remove('theme-dark','theme-light','theme-teal','theme-gold');
      document.body.classList.add(themeName||'theme-dark');
      localStorage.setItem('zeeai-theme',themeName||'theme-dark');
      tooltip.style.display='block';
      setTimeout(()=>tooltip.style.display='none',1100);
    }
    themeOptions.forEach(opt=>{
      opt.addEventListener('click',()=>{
        applyTheme(opt.dataset.theme);
        closeMenu();
      });
      opt.addEventListener('keydown',e=>{
        if(e.key==='Enter' || e.key===' '){ 
          e.preventDefault();
          opt.click();
        }
      });
    });

    // Apply saved theme on load
    applyTheme(localStorage.getItem('zeeai-theme') || 'theme-dark');

    /* Speech Synthesis */
    const speakBtn = document.getElementById('speakBtn');
    const txt = document.getElementById('txt');
    let isSpeaking = false;
    let currentUtterance = null;
    let currentRate = 1;

    function resetSpeaking(){
      isSpeaking = false;
      speakBtn.textContent = 'Speak';
      currentUtterance = null;
    }

    function speakText(){
      const text = txt.value.trim();
      if(!text) return alert('Please enter some text!');
      if(isSpeaking){
        window.speechSynthesis.cancel();
        resetSpeaking();
        return;
      }
      currentUtterance = new SpeechSynthesisUtterance(text);
      currentUtterance.rate = currentRate;
      currentUtterance.onstart = ()=>{ isSpeaking=true; speakBtn.textContent='Stop'; };
      currentUtterance.onend = resetSpeaking;
      currentUtterance.onerror = resetSpeaking;
      window.speechSynthesis.speak(currentUtterance);
    }

    speakBtn.addEventListener('click', speakText);
    txt.addEventListener('keypress', e => {
      if(e.key==='Enter' && !e.shiftKey){
        e.preventDefault();
        speakText();
      }
    });

    /* Speed Control */
    const speedBtn = document.getElementById('speedBtn');
    const speedMenu = document.getElementById('speedMenu');

    speedBtn.addEventListener('click', e => {
      e.stopPropagation();
      const isVisible = speedMenu.style.display === 'flex';
      speedMenu.style.display = isVisible ? 'none' : 'flex';
      speedMenu.setAttribute('aria-hidden', isVisible ? 'true' : 'false');
    });

    document.addEventListener('click', e => {
      if(!speedMenu.contains(e.target) && e.target !== speedBtn){
        speedMenu.style.display='none';
        speedMenu.setAttribute('aria-hidden','true');
      }
    });

    speedMenu.querySelectorAll('button').forEach(btn=>{
      btn.addEventListener('click', ()=>{
        currentRate = parseFloat(btn.dataset.rate) || 1;
        alert('Speed set to '+currentRate+'x');
        speedMenu.style.display='none';
        speedMenu.setAttribute('aria-hidden','true');
      });
    });

    /* Keyboard accessibility for theme toggle */
    themeToggle.addEventListener('keydown', e=>{
      if(e.key==='Enter' || e.key===' '){
        e.preventDefault();
        themeToggle.click();
      }
    });

    /* Hide install button initially */
    installBtn.style.display='none';
  </script>
</body>
</html>
